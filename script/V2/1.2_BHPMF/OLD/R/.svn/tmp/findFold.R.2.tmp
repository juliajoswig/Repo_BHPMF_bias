findFolds <- function(zsLogTrain, numFolds, filename, treeFile, secondCV, traitNames, testFlag){

    
    all = sparseMatrix(zsLogTrain[, 1], zsLogTrain[, 2], x = zsLogTrain[, 3]);
    
    res <- countNumTraits(all);
    noTraits <- res[[1]];
    indObs <- res[[2]];
    traitIds <- res[[3]];
    rm(res)

    res <- generatePermutation(noTraits, traitIds, numFolds, testFlag);
    permutMatTest <- res[[1]];
    permutMatV <- res[[2]];
    rm(res)
    
    res <- splitData(permutMatTest, permutMatV, noTraits, all, all, traitNames, filename, treeFile, secondCV, testFlag);
    rm(res)

}