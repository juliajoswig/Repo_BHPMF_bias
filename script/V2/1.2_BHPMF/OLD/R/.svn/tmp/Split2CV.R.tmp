rm(list=setdiff(ls(), "numDatasets"))

inputDir <- '../data'

numFolds <- 5;
secondCV <- 1;
treeFile <- '';
    
for (datasetId in 1 : numDatasets){
    var <- c("numFolds", "secondCV", "treeFile", "numDatasets", "inputDir")
    rm(list=setdiff(ls(), var))

    # %tree Info
    testFlag <- 1;
    fileName = paste(inputDir, '/traits_trees_atleastone_', datasetId, ".Rda", sep = "");
    tmp = load(fileName)
    
    zsLogYtrainFactorTree = zsLogYtrain;
    rm(list = tmp);
    findFolds(zsLogYtrainFactorTree, numFolds, fileName, treeFile, secondCV, traitNames, testFlag); 

     
    testFlag <- 0; 
    #load species info
    fileName = paste(inputDir, '/traits_species_atleastone_', datasetId, ".Rda", sep = "");
    tmp = load(fileName)

    zsLogYtrainFactorSpecies = zsLogYtrain;
    rm(list = tmp);
    findFolds(zsLogYtrainFactorSpecies, numFolds, fileName, treeFile, secondCV, traitNames, testFlag);

    #load genus info
    fileName = paste(inputDir, '/traits_genus_atleastone_', datasetId, ".Rda", sep = "");
    tmp <- load(fileName);

    zsLogYtrainFactorGenus = zsLogYtrain;
    rm(list = tmp)
    findFolds(zsLogYtrainFactorGenus, numFolds, [filename, int2str(datasetId)], treeFile, secondCV, traitNames, testFlag);


    #load family info
    fileName = paste(inputDir, '/traits_family_atleastone_', datasetId, ".Rda", sep = "");
    tmp <- load(fileName);

    zsLogYtrainFactorFamily = zsLogYtrain;
    rm(list = tmp);
    findFolds(zsLogYtrainFactorFamily, numFolds, fileName, treeFile, secondCV, traitNames, testFlag);

    #load phylo group info
    fileName = paste(inputDir, '/traits_phylo_atleastone_', datasetId, ".Rda", sep = "");
    filename = 'traits_phylo_atleastone_';
    tmp <- load(fileName);

    zsLogYtrainFactorPhylo = zsLogYtrain;
    rm(list = tmp);
    findFolds(zsLogYtrainFactorPhylo, numFolds, fileName, treeFile, secondCV, traitNames, testFlag);

}